<!DOCTYPE html>
<html lang="en-US">

<head>
	<meta charset="utf-8">
	<title>iTvweb parallax</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="SKYPE_TOOLBAR" content="SKYPE_TOOLBAR_PARSER_COMPATIBLE" />
	<meta name="format-detection" content="telephone=no" />

	<link rel="stylesheet" type="text/css" href="css/style.css">

	<style>
		html {
			scroll-behavior: smooth;
		}
		html,
		body{
			height: 100%;
		}
		.SmoothScroll {
			position: fixed;
			left: 50%;
			transform: translateX(-50%);
		}
		section {
			background-attachment: fixed;
			background-repeat: no-repeat;
			background-position: center center; 
			-webkit-background-size: cover;
			-moz-background-size: cover;
			-o-background-size: cover;
			background-size: cover;
			height: 100vh;
			min-height: 100vh;   
			margin: 0 auto; 
			width: 100%;
			max-width: 100%;
			position: relative;
			display: flex;
			flex-direction: column;
			flex-wrap: nowrap;
			justify-content: center;
			align-items: center;
			-webkit-transition: opacity 500ms ease-out;
			-moz-transition: opacity 500ms ease-out;
			transition: opacity 500ms ease-out;
		}
		#home {
			background-color: #0f131c; 
			background-image: url(images/p15.jpg);
		}
		#about { 
			background-color: #828979;
			background-image: url(images/p21.jpg); 
		}
		#ddd { 
			background-image: url(images/p22.jpg); 
		}

		article {	
			display: flex;
			flex-direction: column;
			flex-wrap: nowrap;
			justify-content: center;
			align-items: center;		
			background-color: rgba(0,0,0,.6);
			color: #fff;
			text-align: center;
			margin: 0 auto;
			max-width: 700px;
		}
		.pText {
			background-color: #00B465;
			position: relative; 
			z-index: 2;
			text-align: center;
		}
		.pText2 {
			background-color: #65C9FD;
		}
		@media (min-width: 768px) {
			article {			
				padding: 30px;
			}
			article h2 {
				font-size: 38px;
				margin-bottom: 15px;
			}
			.pText {
				padding: 60px 0 45px;
			}
			.pText p {
				line-height: 30px;
				margin: 0 auto 15px;
				max-width: 700px;
			}
		}
		@media (max-width: 767.98px) {
			.vaContainer {
				padding: 0 28px;
			}
			article {
				margin: 0 28px;	
				padding: 30px 15px 25px;
			}
			article h2 {
				font-size: 34px;
				margin-bottom: 10px;
			}
			.pText {
				padding: 35px 28px 20px;
			}
			.pText p {
				line-height: 30px;
				margin: 0 auto 15px;
				max-width: 700px;
			}
		}
	</style>

</head>
<body>





	<!-- Раздел #1 -->
	<section id="home" data-speed="10" data-type="background">
		<article class="article-1">
			<h2 data-type="position">Section 1</h2>
			<p>Lorem ipsum dolor sit amet <strong>consectetur adipisicing elit</strong>. Ratione distinctio dolorum numquam explicabo laborum alias laboriosam eveniet ipsa ex consequuntur.</p>
		</article>
	</section>

	<div class="pText">
		<p>
			Lorem ipsum dolor sit amet <strong>consectetur adipisicing</strong> elit. Dicta, dolorum.
		</p>
		<p>
			Lorem ipsum dolor sit, amet consectetur adipisicing elit. Modi adipisci laboriosam nisi. Libero, odit nobis!
		</p>
	</div>

	<!-- Раздел #2 -->
	<section id="about" data-speed="-10" data-type="background">
		<article>
			<h2 data-type="position">Section 2</h2>
			<p>Lorem ipsum dolor sit amet <strong>consectetur adipisicing elit</strong>. Ratione distinctio dolorum numquam explicabo laborum alias laboriosam eveniet ipsa ex consequuntur.</p>
		</article>
	</section>

	<div class="pText" style="background-color: #65C9FD;">
		<p>
			Lorem ipsum dolor sit amet consectetur adipisicing elit. Dicta, dolorum.
		</p>
		<p>
			Lorem ipsum dolor sit, <strong>amet consectetur adipisicing</strong> elit. Modi adipisci laboriosam nisi. Libero, odit nobis!
		</p>
	</div>

	<!-- Раздел #3 -->
	<section id="ddd" data-speed="" data-type="background">
		<article>
			<h2>Section 3</h2>
			<p>Lorem ipsum dolor sit amet <strong>consectetur adipisicing elit</strong>. Ratione distinctio dolorum numquam explicabo laborum alias laboriosam eveniet ipsa ex consequuntur.</p>
		</article>
	</section>



	<div class="to-up">&uarr;</div>

	<script src="js/jquery-3.6.1.min.js"></script>
	<script src="js/SmoothScroll.min.js"></script>
	<!-- <script src="js/scriptParallax.js"></script> -->
	<script>

		/* вариант для скролла */
		$(document).bind('mousewheel', function (e) {
			var nt = $(document.body).scrollTop() - (e.deltaY * e.deltaFactor * 100);
			e.preventDefault();
			e.stopPropagation();
			$(document.body).stop().animate({
				scrollTop: nt
			}, 900, 'easeInOutCubic');
		})
		SmoothScroll({
			// Время скролла 400 = 0.4 секунды
			animationTime: 800,
			// Размер шага в пикселях 
			stepSize: 75,
			// Ускорение 
			accelerationDelta: 30,
			// Максимальное ускорение
			accelerationMax: 6,
			// Поддержка клавиатуры
			keyboardSupport: true,
			// Шаг скролла стрелками на клавиатуре в пикселях
			arrowScroll: 50,
			// Pulse (less tweakable)
			// ratio of "tail" to "acceleration"
			pulseAlgorithm: true,
			pulseScale: 4,
			pulseNormalize: 1,
			// Поддержка тачпада
			touchpadSupport: true,
		})

		$(document).ready(function(){
			// Кешируем объект окна
			$window = $(window);						
			$('section[data-type="background"]').each(function(){
				let $bgobj = $(this); // Назначаем объект					
					$(window).scroll(function() {							
					// Прокручиваем фон со скоростью var.
					// Значение yPos отрицательное, так как прокручивание осуществляется вверх!
					let yPos = -($window.scrollTop() / $bgobj.data('speed')); 
					// Размещаем все вместе в конечной точке
					let coords = '50% '+ yPos + 'px';
					// Смещаем фон
					$bgobj.css({ backgroundPosition: coords });
				}); 
			});	
		});

		// $(document).ready(function () {
		// 	$('article h2[data-type="position"]').each(function () {
		// 		let $bgobj2 = $(this);
		// 		$(window).scroll(function () {
		// 			let yPos2 = ($window.scrollTop() / $bgobj2.data('speed'));
		// 			$bgobj2.css({
		// 				position: 'relative',
		// 				top: `${yPos2}` + 'px'
		// 			});
		// 		});
		// 	});
		// });
		
	</script>
	<script src="js/main.js"></script>
</body>
</html>
